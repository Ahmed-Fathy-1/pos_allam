import{_ as x,a as h,e as k,c as r,b as t,d as l,w as n,f as a,t as i,g as m,h as u,v as w,i as E,r as p,o as d,j as P}from"./index-BCy9y8-H.js";import{l as S,_ as C}from"./vodafone-cash-Y0KcvFZJ.js";var $={};const D={name:"checkout",data:()=>({subDomain:"",errorMessage:"",mark:!1,disable:!0,errorMsg:"",color:"",res:{},cash:"card",isOpen:!1,type:"",amount:"",image:null,plan:{},walletPhone:"",isPaying:!1,domainMsg:"",loader:!1,valueMonth:300,valueYear:3e3,domainError:"",planError:"",receiptError:"",package:{},paymentIntentId:"",paymentIntent:"",clientSecret:"",stripe:null,cardElement:null,stripeKey:"process.env.STRIPE_KEY"}),methods:{getSinglrPackage(){h.get(`${k}packages/${this.$route.params.packageId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(s=>{this.package=s.data.data.package_details,this.valueYear=this.package.Price_annually,this.valueMonth=this.package.Price_monthly,console.log("single package",this.package)})},checkStripeFields(){return this.subDomain===""&&(this.domainError="Fill this field."),this.type===""&&(this.planError="Fill this field."),!(this.subDomain===""||this.type==="")},proceedToPayment(){if(console.log("hit"),!this.checkStripeFields())return!1;this.type=="1"?this.package.price_monthly:this.package.price_annually,h.post(`${k}payment/initiate`,{package_id:this.package.id,package_type:this.type,domain_name:this.subDomain},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(e=>(e.status!=200&&console.log("not 200"),this.isPaying=!0,console.log(e),this.paymentIntentId=e.data.data.id,this.paymentIntent=e.data.data.payment_intent,this.clientSecret=e.data.data.client_secret,S($.STRIPE_KEY))).then(e=>{this.stripe=e;const f=this.stripe.elements();this.cardElement=f.create("card"),this.cardElement.mount("#card-element")}).catch(e=>(console.error("Error............",e),this.paymentError=e.message||"An error occurred during payment processing.",Promiserr.reject(e)))}},mounted(){this.getSinglrPackage()}},I={class:"payment-page pt-5 pb-5 container"},M={class:"row g-3"},F={class:"col-lg-12"},Y={class:"bread-crumb d-flex align-items-center"},j={class:"row"},T={class:"col-lg-6 col-md-12 col-12"},V={class:"d-flex flex-lg-row flex-md-column flex-column text-md-center text-lg-start text-center justify-content-between"},z={class:"right-side d-flex gap-4 align-items-center justify-content-center"},A={class:"text-center"},B={class:"text-center"},L={class:"check-input"},N={class:"d-flex gap-2 align-items-center"},K={class:"text-error"},G={for:"subDomain",class:"form-label text-dark fw-semibold mb-2 mt-3 d-flex justify-content-between align-items-center"},R={key:0,class:"fw-bold text-success pe-4"},U={key:1,class:"fw-bold text-success pe-4"},O={class:"text-error"},q={class:"col-lg-6 col-md-12 col-12"},H={key:0,class:"form mt-4"},J={class:"card rounded-2 p-3"},Q={class:"card-title fw-bold text-center"},W={key:0,class:"fw-bold text-success"},X={key:1,class:"fw-bold text-success"},Z={key:2,class:"fw-bold text-success"},ee={class:"row g-3"},te={class:"col-12"},se={class:"col-12"},ae={class:"text-error"},oe={key:1},le={class:"mt-0"},ne={key:0,class:"text-center text-primary fs-5 mt-3"},ie={class:"text-danger text-center pt-3"},re={class:"fw-bold pt-3"},de={class:"phone d-flex align-items-center gap-2 justify-content-center"},me={class:"text-center"},pe={href:"tel:01110010489",class:"text-primary"},ce={href:"mailto:omaradelbakry375@gmail.com"};function ue(s,e,f,fe,ge,g){const v=p("router-link"),c=p("v-icon"),b=p("v-progress-circular"),y=p("v-card"),_=p("v-btn");return d(),r("div",I,[t("div",M,[t("div",F,[e[35]||(e[35]=t("h2",{class:"fw-bold"},"Kashear Checkout",-1)),t("div",Y,[l(v,{to:"/",class:"text-black text-decoration-none"},{default:n(()=>e[8]||(e[8]=[a("Kashear")])),_:1}),l(c,null,{default:n(()=>e[9]||(e[9]=[a("mdi-chevron-right")])),_:1}),l(v,{class:"text-black text-decoration-none"},{default:n(()=>e[10]||(e[10]=[a("Checkout ")])),_:1})]),t("div",j,[t("div",T,[l(y,{class:"p-3 mt-3 payment-card border-1",elevation:"0"},{default:n(()=>[e[14]||(e[14]=t("h4",{class:"text-center fw-bold mb-4 mt-2"},"Package Name",-1)),t("div",V,[e[13]||(e[13]=t("div",{class:"left-side pb-lg-0 pb-md-4 pb-4"},[t("h5",{class:"fw-bold"},"Payment Amount"),t("p",{class:"mb-0"},[a(" All Transactions Are Secure "),t("br"),a(" in both ways card and cash payment ")])],-1)),t("div",z,[t("div",A,[l(b,{"model-value":s.package.Price_monthly,rotate:360,size:70,width:2,color:"yellow"},{default:n(()=>[a(i(s.package.Price_monthly)+" LE",1)]),_:1},8,["model-value"]),e[11]||(e[11]=t("p",{class:"mb-0 pt-2"},"Month",-1))]),t("div",B,[l(b,{"model-value":s.package.Price_annually,rotate:360,size:70,width:2,color:"yellow"},{default:n(()=>[a(i(s.package.Price_annually)+" LE",1)]),_:1},8,["model-value"]),e[12]||(e[12]=t("p",{class:"mb-0 pt-2"},"Year",-1))])])])]),_:1}),l(y,{class:"p-3 mt-3 payment-card border-1",elevation:"0"},{default:n(()=>[t("div",null,[t("div",L,[e[15]||(e[15]=t("label",{for:"subDomain",class:"form-label text-dark fw-semibold mb-2 mt-3"}," Enter Sub Domain* :",-1)),t("div",N,[u(t("input",{class:"form-control rounded-5 py-2","onUpdate:modelValue":e[0]||(e[0]=o=>s.subDomain=o),type:"text",required:"",onChange:e[1]||(e[1]=o=>s.domainError="")},null,544),[[w,s.subDomain]])]),t("p",K,i(s.domainError),1)]),t("label",G,[e[16]||(e[16]=t("span",null,"Select Plan* :",-1)),s.type==1?(d(),r("span",R,i(s.valueMonth)+" LE",1)):m("",!0),s.type==2?(d(),r("span",U,i(s.valueYear)+" LE",1)):m("",!0)]),u(t("select",{class:"form-select rounded-5 pt-2","aria-label":"Default select example","onUpdate:modelValue":e[2]||(e[2]=o=>s.type=o),onChange:e[3]||(e[3]=o=>s.planError=""),required:""},e[17]||(e[17]=[t("option",{value:"",selected:""},"Select Your Plan",-1),t("option",{value:"1"},"Monthly",-1),t("option",{value:"2"},"Yearly",-1)]),544),[[P,s.type]]),t("p",O,i(s.planError),1)])]),_:1}),l(_,{class:"elevation-0 mt-4 bg-primary text-capitalize d-lg-flex d-md-none d-none","prepend-icon":"mdi-chevron-left",onClick:e[4]||(e[4]=o=>s.$router.push("/"))},{default:n(()=>e[18]||(e[18]=[a("Go Back")])),_:1})]),t("div",q,[e[34]||(e[34]=t("div",{class:"payment-methods mt-3"},[t("div",{class:"d-flex gap-2 align-items-center"})],-1)),s.cash=="wallet"?(d(),r("div",H,[t("div",J,[t("div",Q,[t("h4",null,[e[19]||(e[19]=a(" Please Send this amount ")),s.type==1?(d(),r("span",W,i(s.valueMonth)+" EGP ",1)):m("",!0),s.type==2?(d(),r("span",X,i(s.valueYear)+" EGP ",1)):m("",!0),s.type==""?(d(),r("span",Z," (select_plan...) ")):m("",!0),e[20]||(e[20]=a(" payment and upload the receipt "))]),e[21]||(e[21]=t("div",{class:"d-flex gap-1 align-items-center justify-content-center"},[t("div",{class:"d-flex gap-1 align-items-center"},[t("img",{src:C,width:"50",alt:""}),t("h4",{class:"fw-bold"},"+994 5567 23")])],-1))]),t("div",ee,[t("div",te,[e[22]||(e[22]=t("label",{for:"name",class:"form-label text-dark fw-semibold mb-1"}," Amount :",-1)),u(t("input",{class:"form-control rounded-5 py-2",type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>s.amount=o),disabled:"disable"},null,512),[[w,s.amount]])]),t("div",se,[e[23]||(e[23]=t("label",{for:"name",class:"form-label text-dark fw-semibold mb-1"}," Receipt :",-1)),t("input",{type:"file",class:"form-control rounded-5",id:"inputGroupFile01",onChange:e[6]||(e[6]=o=>s.receiptError="")},null,32),t("p",ae,i(s.receiptError),1)])]),e[24]||(e[24]=t("input",{type:"button",class:"btn btn-primary mt-3 text-white",value:"Submit"},null,-1))])])):m("",!0),s.cash=="card"?(d(),r("div",oe,[t("div",le,[t("input",{class:"w-100 btn btn-warning text-white",value:"Proceed to Payment",type:"button",onClick:e[7]||(e[7]=(...o)=>g.proceedToPayment&&g.proceedToPayment(...o))}),s.isLoading?(d(),r("div",ne," Loading... ")):m("",!0),t("p",ie,i(s.domainMsg),1)]),e[25]||(e[25]=E('<div class="mt-3 bg-white p-3 rounded-4" data-v-d02825ec><div class="d-flex gap-5" data-v-d02825ec><form class="mt-3" data-v-d02825ec><div id="card-element" data-v-d02825ec></div><div class="d-flex justify-content-center gap-3 mt-4" data-v-d02825ec><button class="btn btn-primary" type="submit" data-v-d02825ec> Confirm Payment </button><div class="btn btn-danger" data-v-d02825ec>Cancel</div></div></form></div></div>',1))])):m("",!0),t("h6",re,[t("div",de,[t("span",me,[e[30]||(e[30]=a(" For Customer Servece : ")),t("a",pe,[l(c,{size:"small",color:"green"},{default:n(()=>e[26]||(e[26]=[a("mdi-phone")])),_:1}),e[27]||(e[27]=a("01110010489"))]),e[31]||(e[31]=t("br",null,null,-1)),e[32]||(e[32]=t("span",null,"OR",-1)),e[33]||(e[33]=t("br",null,null,-1)),t("a",ce,[l(c,{size:"small",color:"green"},{default:n(()=>e[28]||(e[28]=[a("mdi-email")])),_:1}),e[29]||(e[29]=a(" omaradelbakry375@gmail.com"))])])])])])])])])])}const ye=x(D,[["render",ue],["__scopeId","data-v-d02825ec"]]);export{ye as default};
